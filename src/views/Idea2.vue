<template>
  <div id="idea2">
    <div class="video-wrapper">
      <youtube
        :resize="true"
        :video-id="videoId"
        @ready="ready"
        @playing="playing"
        @paused="paused"
        @ended="ended"
      />
    </div>
  </div>
</template>

<script>
import Push from 'push.js'
import Vue from 'vue'
import VueYoutbe from 'vue-youtube'
Vue.use(VueYoutbe)

export default {
  data() {
    return {
      count: 0,
      timer: 0,
      videoId: "jTQ0_Yeq-2E",
      comments: [
        "„ÅàÔºü",
        "‰Ωï„Åó„Çà„ÅÜ„Å®„Åó„Å¶„Çã„ÅÆÔºü",
        "„Åà„ÄÅ„ÇÇ„Åó„Åã„Åó„Å¶„ÄÅ",
        "ÁûëÊÉ≥Ôºüw",
        "„Çè„Çç„Åü",
        "„Åè„Åù„Çè„Çç„Åü",
        "ÁûëÊÉ≥„Çè„Çç„Åü",
        "„Åæ„ÅòËçâ",
        "w".repeat(10),
        "ÁûëÊÉ≥„Å™„Çì„Åã„Çà„Çä",
        "ÁßÅ„ÅÆË©±„ÇíËÅû„Åç„Å™„Åï„ÅÑ",
        "„ÅÇ„ÅÆ„Å≠",
        "Êò®Êó•„Å≠",
        "Ë°®ÂèÇÈÅì„Åß„Å≠",
        "ÊÑöÊ∞ë„ÇíÂâç„Å´„Åó„Å¶",
        "„Éë„É≥„Ç±„Éº„Ç≠È£ü„Åπ„Åü„ÅÆ",
        "„Åä„ÅÑ„Åó„Åã„Å£„ÅüÔΩûü•ûüòç",
        "Áü•„Å£„Å¶„ÅüÔºü",
        "„Éë„É≥„Ç±„Éº„Ç≠„Å£„Å¶„Å≠",
        "ÂÆü„ÅØ„Å≠",
        "„Éï„ÉØ„Éï„ÉØ„Åó„Å¶„Çã„Çì„Å†„ÇàÔºÅ",
        "Áü•„Çâ„Å™„Åã„Å£„Åü„Åß„Åó„Çá",
        "„Éë„É≥„Ç±„Éº„Ç≠„ÅØË∂ÖÊò†„Åà„Çã„Çì„Å†„Çà„Å≠",
        "„Ç§„É≥„Çπ„Çø„Å´ÂÜôÁúü„ÅÇ„Åí„Åü„Çâ",
        "„ÅÑ„ÅÑ„Å≠100ÂÄã„ÇÇ„ÇÇ„Çâ„Å£„Å°„ÇÉ„Å£„Åü",
        "„ÉÄ„Éñ„É´Âπ∏„ÅõÔΩû",
        "„Åù„ÅÜ„ÅÑ„Åà„Å∞„Åï",
        "„Åì„ÅÆÂâç„Åï",
        "ÁßÅ„ÅÆÂΩºÊ∞è„Å®„Å≠",
        "„Éá„Éº„Éà„Åó„Å¶„ÇãÊôÇ„Å´„Åï",
        "„ÄåÁßÅ„ÅÆ‰∫ã„ÄÅÊú¨ÂΩì„Å´ÊÑõ„Åó„Å¶„Çã„ÅÆÔºü„Äç",
        "„Å£„Å¶ËÅû„ÅÑ„Åü„Çâ„Å≠",
        "‰Ωï„Å¶Á≠î„Åà„Åü„Å®ÊÄù„ÅÜÔºü",
        "„Å≠„ÄÅ„Å™„Çì„Å¶Á≠î„Åà„Åü„Å®ÊÄù„ÅÜÔºü",
        "„Åù„Çå„Åå„Å≠",
        "„ÄåÂΩì„Åü„ÇäÂâç„Å†„ÄÅ„Éê„Ç´„Äç",
        "„Å†„Å£„Å¶ÔΩûÔΩûÔΩûÔΩûÔΩûüòç",
        "ÁßÅ„ÅÆÂΩºÊ∞è„ÄÅ„Éû„Ç∏ÂÑ™ÁßÄ",
        "Êú¨ÂΩì„Å´ÂΩº„Å®‰ªò„ÅçÂêà„Åà„Çã„Å®„ÅãÁ•ûÊßò„ÅÇ„Çä„Åå„Å®„ÅÜ",
        "Ê¨°‰ºö„ÅÜÊôÇ„ÄÅÁ¥π‰ªã„Åô„Çã„Å≠",
        "Âõ†„Åø„Å´",
        "ÁßÅ„ÅÆÂΩºÊ∞è„ÅÆÂ•Ω„Åç„Å™È£ü„ÅπÁâ©‰Ωï„ÅãÁü•„Å£„Å¶„ÇãÔºü",
        "„Åù„Çå„Åå„Å≠",
        "ÊÑèÂ§ñ„Å™„Çì„Å†„Åë„Å©",
        "ËÅû„ÅÑ„Å¶Á¨ë„Å£„Å°„ÇÉ„ÅÜ„Çà",
        "„Åù„Çå„Åå„Å≠",
        "Á¥çË±Ü„Å™„Çì„Å†„Å£„Å¶",
        "ÊÑèÂ§ñ„Åß„Åó„Çá",
        "„Éû„Ç∏„Ç¶„Ç±„Çã",
      ]
    }
  },
  methods: {
    ready() {
      console.log("ready")
    },
    playing() {
      console.log("playing: ", this.timer)
      if (this.timer === 0) {
        this.timer = setInterval(() => {
          Push.create('‰ªè', {
            icon: require('@/assets/images/bosatsu.jpg'),
            body: this.comments[this.count],
            timeout: 2500,
          })
          this.count = (this.count + 1) % this.comments.length
        }, 5000)
      }
    },
    paused() {
      console.log("paused")
      this.clearTimer()
    },
    ended() {
      console.log("ended")
      this.clearTimer()
    },
    clearTimer() {
      clearInterval(this.timer)
      this.timer = 0 // reset
    }
  },
  beforeDestroy() {
    this.clearTimer()
  }
};
</script>

<style scoped>
#idea2 {
  width: 100vw;
  height: 100vh;
  background-color: #000;
  position: relative;
}
.video-wrapper {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
</style>